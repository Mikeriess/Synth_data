{
    "model": {
        "name": "google/gemma-2-2b-it",
        "max_length": 2048
    },
    "training": {
        "output_dir": "outputs",
        "num_train_epochs": 3,
        "per_device_train_batch_size": 4,
        "gradient_accumulation_steps": 1,
        "learning_rate": 2e-4,
        "warmup_steps": 100,
        "logging_steps": 5,
        "save_steps": 10,
        "bf16": true,
        "local_rank": -1,
        "logging_dir": "./logs",
        "logging_first_step": true,
        "remove_unused_columns": false
    },
    "deepspeed": {
        "train_micro_batch_size_per_gpu": 4,
        "gradient_accumulation_steps": 8,
        "train_batch_size": 256,
        "zero_optimization": {
            "stage": 2,
            "offload_optimizer": {
                "device": "cpu",
                "pin_memory": false
            },
            "contiguous_gradients": true
        },
        "bf16": {
            "enabled": true
        },
        "gradient_clipping": 1.0,
        "steps_per_print": 10,
        "wall_clock_breakdown": true,
        "zero_force_ds_cpu_optimizer": false
    },
    "monitoring": {
        "use_wandb": false,
        "use_codecarbon": false,
        "wandb": {
            "project": "gemma-finetuning",
            "name": "deepspeed-training-multi-gpu",
            "config": {
                "model_name": "google/gemma-2-2b-it",
                "epochs": 3,
                "learning_rate": 2e-4,
                "batch_size": 256,
                "gpu_count": 8
            }
        },
        "emissions": {
            "output_dir": "emissions",
            "log_level": "warning"
        }
    }
} 